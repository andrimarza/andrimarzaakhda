<!DOCTYPE HTML>
<html>
    <style>
    .letak {
        text-align: center;
    }
    #judul {
        margin: 20px auto;
        text-align: center;
        font: 35px Comic Sans MS;
        color: Green;
     }
    </style>
<head>
  <title>Ujian Tengah Semester</title>
  <link rel="stylesheet" href="animate.css" />
</head>
<body>
    <div id="judul"><h2 class="animated infinite bounce">Ayo Main Snake Game</h2></div>
    <div class="letak">
<canvas id="SnakeG" width="400" height="400"></canvas>
    </div>
<script>
	window.onload=function() {
		canvas=document.getElementById("SnakeG");
		ctx=canvas.getContext("2d");
		document.addEventListener("keydown",keyPush);
		setInterval(game,1000/20);
	}
	Hx=Hy=5;
	gs=tc=20;
	Food_y=Food_x=10;
	xv=yv=0;
	trail=[];
	ekor = 10;

    function keyPush(evt) {
		switch(evt.keyCode) {
			case 37:
				xv=-1;yv=0;
				break;
			case 38:
				xv=0;yv=-1;
				break;
			case 39:
				xv=1;yv=0;
				break;
			case 40:
				xv=0;yv=1;
				break;
		}
	}
    	function game() {
		Hx+=xv;
		Hy+=yv;
		if(Hx<0) {
			Hx= tc-1;
		}
		if(Hx>tc-1) {
			Hx= 0;
		}
		if(Hy<0) {
			Hy= tc-1;
		}
		if(Hy>tc-1) {
			Hy= 0;
		}
		ctx.fillStyle="darkblue";
		ctx.fillRect(0,0,canvas.width,canvas.height);

		ctx.fillStyle="red";
		for(var i=0;i<trail.length;i++) {
			ctx.fillRect(trail[i].x*gs,trail[i].y*gs,gs-2,gs-2);
			if(trail[i].x==Hx && trail[i].y==Hy) {
				tail = 10;
			}
		}
		trail.push({x:Hx,y:Hy});
		while(trail.length>tail) {
			trail.shift();
		}

		if(Food_x==Hx && Food_y==Hy) {
			tail++;
			Food_x=Math.floor(Math.random()*tc);
			Food_y=Math.floor(Math.random()*tc);
		}
        ctx.fillStyle="white";
        ctx.fillRect(Food_x*gs,Food_y*gs,gs-2,gs-2);
	}
</script>
</body>

</html>